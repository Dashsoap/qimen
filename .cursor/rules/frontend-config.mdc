# ä¸æœªå¥‡é—¨éç”²ç³»ç»Ÿ - å‰ç«¯é…ç½®è§„åˆ™ (åŒå‰ç«¯ç‰ˆ)

## ğŸ¨ å‰ç«¯æŠ€æœ¯æ ˆ

### Vue.jså‰ç«¯ ([apps/frontend-vue/](mdc:apps/frontend-vue))
- **æ¡†æ¶**: Vue 3 + Composition API
- **æ„å»ºå·¥å…·**: Vite 5.x
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router 4.x
- **HTTPå®¢æˆ·ç«¯**: Axios
- **ç§»åŠ¨ç«¯**: Capacitor 7.x
- **ç‰ˆæœ¬**: 1.0.1750352961 (ç”Ÿäº§å°±ç»ª)

### Reactå‰ç«¯ ([apps/frontend-react/](mdc:apps/frontend-react))
- **æ¡†æ¶**: React 18 + Hooks
- **æ„å»ºå·¥å…·**: Vite 5.x
- **çŠ¶æ€ç®¡ç†**: Redux Toolkit
- **è·¯ç”±**: React Router
- **HTTPå®¢æˆ·ç«¯**: Axios
- **ç§»åŠ¨ç«¯**: Capacitor 6.x
- **ç‰ˆæœ¬**: 0.0.0 (å®Œæ•´è¿ç§»ç‰ˆï¼Œç”Ÿäº§å°±ç»ª)

## ğŸ“ å‰ç«¯ç›®å½•ç»“æ„

### Vue.jså‰ç«¯ç»“æ„
```
apps/frontend-vue/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.vue              # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ main.js              # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ api.js           # APIé…ç½®ä¸­å¿ƒ
â”‚   â”‚   â”œâ”€â”€ mobile-http.js   # ç§»åŠ¨ç«¯HTTPå¤„ç†
â”‚   â”‚   â””â”€â”€ qimenApi.js      # å¥‡é—¨éç”²API
â”‚   â”œâ”€â”€ views/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ HomeView.vue     # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ QimenView.vue    # å¥‡é—¨éç”²é¡µé¢
â”‚   â”‚   â”œâ”€â”€ HistoryView.vue  # å†å²è®°å½•
â”‚   â”‚   â””â”€â”€ FavoritesView.vue # æ”¶è—å¤¹
â”‚   â”œâ”€â”€ components/          # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header.vue       # é¡µé¢å¤´éƒ¨
â”‚   â”‚   â”œâ”€â”€ QimenDisk3D.vue  # 3Då¥‡é—¨ç›˜
â”‚   â”‚   â””â”€â”€ StreamAnalysis.vue # æµå¼åˆ†æ
â”‚   â”œâ”€â”€ router/              # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.js         # è·¯ç”±å®šä¹‰
â”‚   â””â”€â”€ stores/              # PiniaçŠ¶æ€ç®¡ç†
â”‚       â”œâ”€â”€ auth.js          # è®¤è¯çŠ¶æ€
â”‚       â”œâ”€â”€ theme.js         # ä¸»é¢˜çŠ¶æ€
â”‚       â””â”€â”€ qimenInfoStore.js # å¥‡é—¨ä¿¡æ¯çŠ¶æ€
â”œâ”€â”€ ios/                     # iOSç§»åŠ¨ç«¯é…ç½®
â”œâ”€â”€ vite.config.js           # Viteé…ç½®
â”œâ”€â”€ capacitor.config.ts      # ç§»åŠ¨ç«¯æ‰“åŒ…é…ç½®
â””â”€â”€ package.json             # ä¾èµ–ç®¡ç†
```

### Reactå‰ç«¯ç»“æ„
```
apps/frontend-react/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.jsx              # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ main.jsx             # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ services/            # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ api.js           # APIé…ç½®ä¸­å¿ƒ
â”‚   â”œâ”€â”€ pages/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ HomePage.jsx     # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ QimenPage.jsx    # å¥‡é—¨éç”²é¡µé¢
â”‚   â”‚   â”œâ”€â”€ HistoryPage.jsx  # å†å²è®°å½•
â”‚   â”‚   â””â”€â”€ FavoritesPage.jsx # æ”¶è—å¤¹
â”‚   â”œâ”€â”€ components/          # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/          # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.jsx   # é¡µé¢å¤´éƒ¨
â”‚   â”‚   â”‚   â””â”€â”€ BottomNav.jsx # åº•éƒ¨å¯¼èˆª
â”‚   â”‚   â”œâ”€â”€ common/          # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.jsx   # æŒ‰é’®ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Input.jsx    # è¾“å…¥ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ Modal.jsx    # æ¨¡æ€æ¡†
â”‚   â”‚   â””â”€â”€ QimenItem.jsx    # å¥‡é—¨é¡¹ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ useAuth.js       # è®¤è¯Hook
â”‚   â”‚   â”œâ”€â”€ useApi.js        # APIè°ƒç”¨Hook
â”‚   â”‚   â””â”€â”€ useQimen.js      # å¥‡é—¨é€»è¾‘Hook
â”‚   â”œâ”€â”€ stores/              # ReduxçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ store.js         # Storeé…ç½®
â”‚   â”‚   â”œâ”€â”€ authSlice.js     # è®¤è¯åˆ‡ç‰‡
â”‚   â”‚   â”œâ”€â”€ themeSlice.js    # ä¸»é¢˜åˆ‡ç‰‡
â”‚   â”‚   â””â”€â”€ qimenSlice.js    # å¥‡é—¨åˆ‡ç‰‡
â”‚   â””â”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ api.js           # APIå·¥å…·
â”‚       â””â”€â”€ qimenApi.js      # å¥‡é—¨API
â”œâ”€â”€ android/                 # Androidç§»åŠ¨ç«¯é…ç½®
â”œâ”€â”€ ios/                     # iOSç§»åŠ¨ç«¯é…ç½®
â”œâ”€â”€ vite.config.js           # Viteé…ç½®
â”œâ”€â”€ capacitor.config.ts      # ç§»åŠ¨ç«¯æ‰“åŒ…é…ç½®
â””â”€â”€ package.json             # ä¾èµ–ç®¡ç†
```

## ğŸŒ APIé…ç½®ä¸­å¿ƒ

### Vueå‰ç«¯APIé…ç½® ([apps/frontend-vue/src/utils/api.js](mdc:apps/frontend-vue/src/utils/api.js))
```javascript
// æ™ºèƒ½ç¯å¢ƒæ£€æµ‹
const getApiBaseUrl = () => {
  // ç§»åŠ¨ç«¯å¼ºåˆ¶ä½¿ç”¨æœåŠ¡å™¨
  if (isMobile) {
    return 'http://101.201.148.8:3001';
  }
  
  // Webç«¯æœ¬åœ°å¼€å‘ä½¿ç”¨ä»£ç†
  if (isLocalDev) {
    return '/api';
  }
  
  // ç”Ÿäº§ç¯å¢ƒä½¿ç”¨æœåŠ¡å™¨
  return 'http://101.201.148.8:3001';
};

// Axioså®ä¾‹é…ç½®
const apiClient = axios.create({
  baseURL: getApiBaseUrl(),
  timeout: 30000,
  headers: {
    'Content-Type': 'application/json'
  }
});
```

### Reactå‰ç«¯APIé…ç½® ([apps/frontend-react/src/services/api.js](mdc:apps/frontend-react/src/services/api.js))
```javascript
// ç¯å¢ƒé…ç½®
const API_CONFIG = {
  development: {
    baseURL: import.meta.env.VITE_FORCE_MOBILE_API === 'true' 
      ? import.meta.env.VITE_API_BASE_URL 
      : '/api',
    timeout: 30000
  },
  production: {
    baseURL: 'http://101.201.148.8:3001',
    timeout: 30000
  }
};

// APIå®¢æˆ·ç«¯
const apiClient = axios.create({
  ...API_CONFIG[import.meta.env.MODE || 'development'],
  headers: {
    'Content-Type': 'application/json'
  }
});
```

## ğŸ“± ç§»åŠ¨ç«¯é…ç½®

### Vueå‰ç«¯ç§»åŠ¨ç«¯é…ç½®
```typescript
// apps/frontend-vue/capacitor.config.ts
import { CapacitorConfig } from '@capacitor/cli';

const config: CapacitorConfig = {
  appId: 'com.guiguqimen.app.1750352961',
  appName: 'ä¸æœªå¥‡é—¨éç”²',
  webDir: 'dist',
  server: {
    androidScheme: 'https'
  },
  ios: {
    scheme: 'App'
  }
};

export default config;
```

### Reactå‰ç«¯ç§»åŠ¨ç«¯é…ç½®
```typescript
// apps/frontend-react/capacitor.config.ts
import { CapacitorConfig } from '@capacitor/cli';

const config: CapacitorConfig = {
  appId: 'com.guiguqimen.react.app',
  appName: 'ä¸æœªå¥‡é—¨éç”² React',
  webDir: 'dist',
  server: {
    androidScheme: 'https'
  },
  ios: {
    scheme: 'App'
  }
};

export default config;
```

## ğŸš€ å¼€å‘å¯åŠ¨æ–¹å¼

### ä½¿ç”¨ç»Ÿä¸€å¯åŠ¨è„šæœ¬ (æ¨è)
```bash
# å¯åŠ¨å¼€å‘ç¯å¢ƒ
./start-dev.sh start

# é€‰æ‹©å¯åŠ¨æ¨¡å¼:
# 2) åç«¯ + Vueå‰ç«¯ (ç«¯å£3001 + 5173)
# 3) åç«¯ + Reactå‰ç«¯ (ç«¯å£3001 + 5174)
# 4) å®Œæ•´å¯åŠ¨ (åç«¯ + ä¸¤ä¸ªå‰ç«¯)
```

### æ‰‹åŠ¨å¯åŠ¨å„å‰ç«¯

#### Vueå‰ç«¯å¯åŠ¨
```bash
cd apps/frontend-vue
npm install                    # å®‰è£…ä¾èµ–
npm run dev                   # å¼€å‘ç¯å¢ƒ (http://localhost:5173)
npm run build                 # ç”Ÿäº§æ„å»º
npm run preview               # é¢„è§ˆæ„å»ºç»“æœ
```

#### Reactå‰ç«¯å¯åŠ¨
```bash
cd apps/frontend-react
npm install                   # å®‰è£…ä¾èµ–
npm run dev                  # å¼€å‘ç¯å¢ƒ (http://localhost:5174)
npm run build                # ç”Ÿäº§æ„å»º
npm run preview              # é¢„è§ˆæ„å»ºç»“æœ
```

## ğŸ“± ç§»åŠ¨ç«¯æ„å»º

### Vueå‰ç«¯ç§»åŠ¨ç«¯
```bash
cd apps/frontend-vue

# iOSæ„å»º
npm run build:mobile          # æ„å»ºWebèµ„æº
npx cap sync ios             # åŒæ­¥åˆ°iOS
npx cap open ios             # æ‰“å¼€Xcode

# Androidæ„å»º  
npm run build:mobile          # æ„å»ºWebèµ„æº
npx cap sync android         # åŒæ­¥åˆ°Android
npx cap open android         # æ‰“å¼€Android Studio
```

### Reactå‰ç«¯ç§»åŠ¨ç«¯
```bash
cd apps/frontend-react

# ç§»åŠ¨ç«¯ä¸“ç”¨æ„å»º
npm run build:mobile          # ä½¿ç”¨ç§»åŠ¨ç«¯é…ç½®æ„å»º

# iOSæ„å»º
npx cap sync ios
npx cap open ios

# Androidæ„å»º
npx cap sync android
npx cap open android
```

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§å¯¹æ¯”

| åŠŸèƒ½ç‰¹æ€§ | Vueå‰ç«¯ | Reactå‰ç«¯ | è¯´æ˜ |
|---------|---------|-----------|------|
| å¥‡é—¨éç”²æ’ç›˜ | âœ… | âœ… | å®Œæ•´å®ç° |
| AIæ™ºèƒ½åˆ†æ | âœ… | âœ… | ä¸‰ç§åˆ†ææ¨¡å¼ |
| ç”¨æˆ·è®¤è¯ | âœ… | âœ… | JWTè®¤è¯ |
| å†å²è®°å½• | âœ… | âœ… | è‡ªåŠ¨ä¿å­˜ |
| æ”¶è—å¤¹ | âœ… | âœ… | å¤‡æ³¨ç®¡ç† |
| 3Då¥‡é—¨ç›˜ | âœ… | âŒ | Vueç‹¬æœ‰ |
| æµå¼åˆ†æ | âœ… | âœ… | å®æ—¶åˆ†æ |
| ç§»åŠ¨ç«¯ä¼˜åŒ– | âœ… | âœ… | åŒç«¯æ”¯æŒ |
| PWAæ”¯æŒ | âœ… | âœ… | ç¦»çº¿åŠŸèƒ½ |
| ä¸»é¢˜åˆ‡æ¢ | âœ… | âœ… | æš—é»‘æ¨¡å¼ |

## ğŸ”§ å¼€å‘é…ç½®

### ç¯å¢ƒå˜é‡é…ç½®

#### Vueå‰ç«¯ç¯å¢ƒå˜é‡
```bash
# apps/frontend-vue/.env
VITE_API_BASE_URL=http://localhost:3001
VITE_APP_TITLE=ä¸æœªå¥‡é—¨éç”²

# apps/frontend-vue/.env.production
VITE_API_BASE_URL=http://101.201.148.8:3001
VITE_APP_TITLE=ä¸æœªå¥‡é—¨éç”²
```

#### Reactå‰ç«¯ç¯å¢ƒå˜é‡
```bash
# apps/frontend-react/.env
VITE_API_BASE_URL=http://localhost:3001
VITE_FORCE_MOBILE_API=false

# apps/frontend-react/.env.production
VITE_API_BASE_URL=http://101.201.148.8:3001
VITE_FORCE_MOBILE_API=true
VITE_BUILD_TARGET=mobile
```

## ğŸ¨ UIè®¾è®¡è§„èŒƒ

### è®¾è®¡ä¸»é¢˜
- **é…è‰²æ–¹æ¡ˆ**: é»‘é‡‘ä¸»é¢˜ï¼Œç¥ç§˜å¥‡é—¨é£æ ¼
- **å­—ä½“**: STXiheiï¼Œä¼ ç»Ÿä¸­æ–‡å­—ä½“
- **å›¾æ ‡**: Lucideå›¾æ ‡åº“
- **åŠ¨ç”»**: GSAPåŠ¨ç”»åº“
- **å“åº”å¼**: ç§»åŠ¨ä¼˜å…ˆè®¾è®¡

### ç»„ä»¶è§„èŒƒ
- **Button**: ç»Ÿä¸€çš„æŒ‰é’®æ ·å¼å’Œäº¤äº’
- **Input**: æ ‡å‡†åŒ–è¾“å…¥ç»„ä»¶
- **Modal**: æ¨¡æ€æ¡†ç»Ÿä¸€è§„èŒƒ
- **Card**: å¡ç‰‡å¼å†…å®¹å±•ç¤º
- **Navigation**: åº•éƒ¨å¯¼èˆªæ 

## ğŸ” è°ƒè¯•å’Œå¼€å‘å·¥å…·

### Vueå‰ç«¯è°ƒè¯•
- **Vue DevTools**: æµè§ˆå™¨æ‰©å±•
- **Vite HMR**: çƒ­æ¨¡å—æ›¿æ¢
- **ESLint**: ä»£ç è§„èŒƒæ£€æŸ¥
- **Prettier**: ä»£ç æ ¼å¼åŒ–

### Reactå‰ç«¯è°ƒè¯•
- **React DevTools**: æµè§ˆå™¨æ‰©å±•
- **Redux DevTools**: çŠ¶æ€ç®¡ç†è°ƒè¯•
- **Vite HMR**: çƒ­æ¨¡å—æ›¿æ¢
- **ESLint**: ä»£ç è§„èŒƒæ£€æŸ¥

## ğŸš€ éƒ¨ç½²é…ç½®

### ç”Ÿäº§æ„å»º
```bash
# Vueå‰ç«¯ç”Ÿäº§æ„å»º
cd apps/frontend-vue && npm run build

# Reactå‰ç«¯ç”Ÿäº§æ„å»º
cd apps/frontend-react && npm run build
```

### Nginxé…ç½®ç¤ºä¾‹
```nginx
# Vueå‰ç«¯
location /vue {
    alias /path/to/apps/frontend-vue/dist;
    try_files $uri $uri/ /vue/index.html;
}

# Reactå‰ç«¯
location /react {
    alias /path/to/apps/frontend-react/dist;
    try_files $uri $uri/ /react/index.html;
}
```

### ç§»åŠ¨ç«¯é—®é¢˜
1. ç¡®ä¿æœåŠ¡å™¨åœ°å€å¯è®¿é—®
2. æ£€æŸ¥ç§»åŠ¨è®¾å¤‡ç½‘ç»œè®¾ç½®
3. æŸ¥çœ‹ç§»åŠ¨ç«¯è°ƒè¯•æ—¥å¿—
