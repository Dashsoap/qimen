---
description:
globs:
alwaysApply: false
---
# ä¸æœªå¥‡é—¨éç”²ç³»ç»Ÿ - é¡¹ç›®æ¶æ„è§„åˆ™

## ğŸ—ï¸ ç»Ÿä¸€æ¶æ„è®¾è®¡

æœ¬é¡¹ç›®å·²ç»è¿‡é‡æ„ï¼Œ**åªä½¿ç”¨ä¸€ä¸ªç»Ÿä¸€çš„å…¥å£ç‚¹**ï¼š[app.js](mdc:backend/app.js)

### âš ï¸ é‡è¦æé†’
- **å·²åˆ é™¤é‡å¤æ–‡ä»¶**: `server.js`, `index.js`, `simple-server.js` ä¸å†å­˜åœ¨
- **å”¯ä¸€å…¥å£**: [app.js](mdc:backend/app.js) æ˜¯ç”Ÿäº§å’Œå¼€å‘ç¯å¢ƒçš„å”¯ä¸€æœåŠ¡å™¨æ–‡ä»¶
- **æ¨¡å—åŒ–æ¶æ„**: æ‰€æœ‰åŠŸèƒ½éƒ½é€šè¿‡ [src/](mdc:backend/src) ç›®å½•ä¸‹çš„æ¨¡å—å®ç°

## ğŸ“ æ ¸å¿ƒæ¶æ„

```
backend/
â”œâ”€â”€ app.js                    # ğŸš€ ç»Ÿä¸€å…¥å£ç‚¹ (å”¯ä¸€æœåŠ¡å™¨æ–‡ä»¶)
â”œâ”€â”€ src/                      # ğŸ“¦ æ¨¡å—åŒ–ç»„ä»¶ç›®å½•
â”‚   â”œâ”€â”€ config/               # âš™ï¸ é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ AppConfig.js      # ç¯å¢ƒå˜é‡å’Œé…ç½®
â”‚   â”œâ”€â”€ services/             # ğŸ”§ ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ PointsService.js  # ğŸ’° ç§¯åˆ†ç³»ç»ŸæœåŠ¡
â”‚   â”‚   â””â”€â”€ AIService.js      # ğŸ¤– AIåˆ†ææœåŠ¡
â”‚   â”œâ”€â”€ middleware/           # ğŸ›¡ï¸ ä¸­é—´ä»¶å±‚
â”‚   â”‚   â””â”€â”€ index.js          # è®¤è¯ã€é™æµã€å®‰å…¨ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ database/             # ğŸ—„ï¸ æ•°æ®åº“å±‚
â”‚   â”‚   â””â”€â”€ init.js           # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â””â”€â”€ routes/               # ğŸ›£ï¸ è·¯ç”±æ¨¡å—
â”œâ”€â”€ prisma/                   # ğŸ“Š æ•°æ®åº“æ¨¡å¼
â””â”€â”€ config.env               # ğŸ”§ ç¯å¢ƒé…ç½®
```

## ğŸš€ å¯åŠ¨æ–¹å¼

### å¼€å‘ç¯å¢ƒ
```bash
cd backend
node app.js
```

### ç”Ÿäº§ç¯å¢ƒ
```bash
NODE_ENV=production node app.js
```

### ä½¿ç”¨å¯åŠ¨è„šæœ¬
```bash
./backend/start.sh              # ç®€å•å¯åŠ¨
./backend/start-server.sh       # å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼
./backend/start-auth-server.sh  # è®¤è¯ç³»ç»Ÿå¯åŠ¨
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

1. **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ** - JWT tokenè®¤è¯
2. **ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ** - äº‹åŠ¡å®‰å…¨çš„ç§¯åˆ†æ“ä½œ
3. **ç­¾åˆ°ç³»ç»Ÿ** - æ¯æ—¥ç­¾åˆ°å¥–åŠ±
4. **å¥‡é—¨éç”²æ’ç›˜** - ä¼ ç»Ÿæ’ç›˜ç®—æ³•
5. **AIæ™ºèƒ½åˆ†æ** - å¤šç­–ç•¥AIåˆ†æï¼ˆç®€å•/è¯¦ç»†/æµå¼ï¼‰

## ğŸ“‹ é…ç½®æ–‡ä»¶è¯´æ˜

- [config.env](mdc:backend/config.env) - å¼€å‘ç¯å¢ƒé…ç½®
- [config.prod.env](mdc:backend/config.prod.env) - ç”Ÿäº§ç¯å¢ƒé…ç½®
- [package.json](mdc:backend/package.json) - ä¾èµ–ç®¡ç†

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- JWTè®¤è¯ä¸­é—´ä»¶ç»Ÿä¸€ç®¡ç†
- å·®å¼‚åŒ–APIé™æµç­–ç•¥
- è¾“å…¥éªŒè¯å’Œå®‰å…¨è¿‡æ»¤
- é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
